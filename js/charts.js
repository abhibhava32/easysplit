const _0x28c18c=_0x17e0;(function(_0x425d56,_0x2ea619){const _0x3b61f2=_0x17e0,_0xf68dd=_0x425d56();while(!![]){try{const _0x54ff57=parseInt(_0x3b61f2(0xaa))/0x1*(parseInt(_0x3b61f2(0xd3))/0x2)+parseInt(_0x3b61f2(0xd2))/0x3+-parseInt(_0x3b61f2(0xc6))/0x4+-parseInt(_0x3b61f2(0xa3))/0x5*(parseInt(_0x3b61f2(0xb3))/0x6)+-parseInt(_0x3b61f2(0xb5))/0x7+-parseInt(_0x3b61f2(0x97))/0x8*(parseInt(_0x3b61f2(0x98))/0x9)+parseInt(_0x3b61f2(0xd7))/0xa*(parseInt(_0x3b61f2(0xda))/0xb);if(_0x54ff57===_0x2ea619)break;else _0xf68dd['push'](_0xf68dd['shift']());}catch(_0x53b4d7){_0xf68dd['push'](_0xf68dd['shift']());}}}(_0x264b,0xd4b14),document['addEventListener'](_0x28c18c(0xc5),function(){const _0xd96f8c=_0x28c18c,_0x236774=document[_0xd96f8c(0xdc)]('charts');_0x236774&&renderCharts();document[_0xd96f8c(0xcc)](_0xd96f8c(0xd1))['addEventListener']('click',renderCharts);const _0x109564=new MutationObserver(renderCharts),_0x4973ce=document[_0xd96f8c(0xdc)](_0xd96f8c(0xce)),_0x55bfb7=document[_0xd96f8c(0xdc)](_0xd96f8c(0xd8));_0x4973ce&&_0x55bfb7&&(_0x109564[_0xd96f8c(0xbc)](_0x4973ce,{'childList':!![],'subtree':!![]}),_0x109564[_0xd96f8c(0xbc)](_0x55bfb7,{'childList':!![],'subtree':!![]}));}));function renderCharts(){const _0x51a715=_0x28c18c,_0x4de27b=JSON[_0x51a715(0xbd)](localStorage['getItem'](_0x51a715(0xb6)));if(!_0x4de27b){console[_0x51a715(0xc3)](_0x51a715(0xc7));return;}const {group:_0x35e3e1,expenses:_0x16e77f}=_0x4de27b,{summary:_0x340f77,debts:_0x56c042}=calculateDebts(_0x35e3e1,_0x16e77f),_0x43e293=Object['keys'](_0x340f77)[_0x51a715(0xd5)](_0x4724ae=>_0x4724ae!=='Total'),_0x384446=_0x43e293['filter'](_0x46b671=>_0x340f77[_0x46b671][_0x51a715(0xad)]!==0x0||_0x340f77[_0x46b671]['to_receive']!==0x0||_0x340f77[_0x46b671]['to_debt']!==0x0),_0x573b60=_0x384446[_0x51a715(0xbe)](_0x2f682a=>parseFloat(Number(_0x340f77[_0x2f682a][_0x51a715(0xad)])[_0x51a715(0x9b)](0x2))),_0x51b02b=_0x384446[_0x51a715(0xbe)](_0x2e6a71=>parseFloat(Number(_0x340f77[_0x2e6a71][_0x51a715(0xd9)])['toFixed'](0x2))),_0x1e05b3=_0x384446[_0x51a715(0xbe)](_0x2d9cab=>parseFloat(Number(_0x340f77[_0x2d9cab][_0x51a715(0xcb)])[_0x51a715(0x9b)](0x2)));[_0x51a715(0xd6),_0x51a715(0x9f),'totalDebtChart',_0x51a715(0x99)][_0x51a715(0xa9)](_0x146649=>{const _0x476197=_0x51a715;window[_0x146649]&&typeof window[_0x146649][_0x476197(0xb4)]===_0x476197(0xb2)&&window[_0x146649][_0x476197(0xb4)]();}),window[_0x51a715(0xd6)]=createChart('expenseMadeChart',{'labels':_0x384446[_0x51a715(0xbe)](_0x4efd60=>truncateName(_0x4efd60)),'datasets':[{'label':_0x51a715(0xd4),'backgroundColor':'#42a5f5','data':_0x573b60}]},{'plugins':{'title':{'display':!![],'text':'Expenses\x20Made\x20by\x20Members'},'tooltip':{'callbacks':{'title':function(_0x25d7db){return _0x384446[_0x25d7db[0x0]['dataIndex']];},'label':function(_0x49fad3){const _0x2a050d=_0x51a715;return _0x2a050d(0xa2)+Number(_0x49fad3[_0x2a050d(0xc1)])['toFixed'](0x2);}}}}}),window['toReceiveChart']=createChart(_0x51a715(0x9f),{'labels':_0x384446[_0x51a715(0xbe)](_0x2015be=>truncateName(_0x2015be)),'datasets':[{'label':'To\x20Receive','backgroundColor':'#66bb6a','data':_0x51b02b}]},{'plugins':{'title':{'display':!![],'text':'Amounts\x20to\x20Receive\x20by\x20Members'},'tooltip':{'callbacks':{'title':function(_0x54bd55){const _0xf0ba4c=_0x51a715;return _0x384446[_0x54bd55[0x0][_0xf0ba4c(0x9d)]];},'label':function(_0xd22162){const _0xfff1db=_0x51a715;return _0xfff1db(0xa0)+Number(_0xd22162[_0xfff1db(0xc1)])[_0xfff1db(0x9b)](0x2);}}}}}),window[_0x51a715(0xcf)]=createChart('totalDebtChart',{'labels':_0x384446[_0x51a715(0xbe)](_0x460817=>truncateName(_0x460817)),'datasets':[{'label':_0x51a715(0xbf),'backgroundColor':_0x51a715(0xa1),'data':_0x1e05b3}]},{'plugins':{'title':{'display':!![],'text':'Total\x20Debts\x20by\x20Members'},'tooltip':{'callbacks':{'title':function(_0x207c67){const _0x5e97ad=_0x51a715;return _0x384446[_0x207c67[0x0][_0x5e97ad(0x9d)]];},'label':function(_0x192ffb){const _0x2cdc8b=_0x51a715;return _0x2cdc8b(0xac)+Number(_0x192ffb[_0x2cdc8b(0xc1)])[_0x2cdc8b(0x9b)](0x2);}}}}});const _0x55378f=prepareBorrowerLenderData(_0x56c042);window[_0x51a715(0x99)]=createChart(_0x51a715(0x99),_0x55378f,{'scales':{'x':{'stacked':!![],'beginAtZero':!![]},'y':{'stacked':!![]}},'plugins':{'title':{'display':!![],'text':_0x51a715(0xa4)},'tooltip':{'callbacks':{'title':function(_0x596d17){const _0x35585b=_0x51a715;return _0x55378f[_0x35585b(0xae)][_0x596d17[0x0]['dataIndex']];},'label':function(_0x34a6de){const _0x146f61=_0x51a715,_0x297883=_0x34a6de[_0x146f61(0xa5)][_0x146f61(0xab)],_0x28bd95=parseFloat(_0x34a6de[_0x146f61(0xc1)][_0x146f61(0x9b)](0x2));if(_0x28bd95>0x0)return _0x146f61(0xc9)+_0x297883+':\x20'+Number(_0x28bd95)['toFixed'](0x2);return null;}}}}});}function createChart(_0x5a6a5,_0x369669,_0x190a9a){const _0x240784=_0x28c18c,_0x4205a1=document[_0x240784(0xdc)](_0x5a6a5)[_0x240784(0xa7)]('2d'),_0x50b0cf=_0x369669[_0x240784(0xae)][_0x240784(0xc0)],_0xdab3b5=calculateChartHeight(_0x50b0cf);_0x4205a1[_0x240784(0xbb)][_0x240784(0xba)]=_0xdab3b5,_0x4205a1['canvas'][_0x240784(0xc8)][_0x240784(0xba)]=_0xdab3b5+'px';const _0x293a9e={'indexAxis':'y','responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'display':![]}},'scales':{'y':{'ticks':{'autoSkip':![],'callback':function(_0x4bff60,_0x1ab66f){const _0x220e9a=_0x240784;return this[_0x220e9a(0xb9)](_0x4bff60);}}},'x':{'beginAtZero':!![]}},..._0x190a9a};return new Chart(_0x4205a1,{'type':'bar','data':_0x369669,'options':_0x293a9e});}function calculateChartHeight(_0x44352b){const _0x52c05b=_0x28c18c,_0x2d3b4e=0xc8,_0x51a8b9=0x1e;return Math[_0x52c05b(0xa6)](_0x2d3b4e,_0x44352b*_0x51a8b9);}function roundToTwoDecimals(_0x3b43b7){const _0x513f63=_0x28c18c;return Math['round']((_0x3b43b7+Number[_0x513f63(0xcd)])*0x64)/0x64;}function calculateDebts(_0x50320c,_0x3d1697){const _0x10185e=_0x28c18c,_0x204f60=Object[_0x10185e(0xca)](_0x50320c['map'](_0x485faf=>[_0x485faf,0x0])),_0x2ea26=Object[_0x10185e(0xca)](_0x50320c[_0x10185e(0xbe)](_0x19548b=>[_0x19548b,0x0]));_0x3d1697[_0x10185e(0xa9)](_0x5ad6d9=>{const _0x3b647a=_0x10185e,{amount:_0x4f1473,paid_by:_0x3af724,members:_0x3ec77e,amount_shares:_0x1a301c}=_0x5ad6d9;_0x204f60[_0x3af724]=roundToTwoDecimals(_0x204f60[_0x3af724]+_0x4f1473),_0x2ea26[_0x3af724]=roundToTwoDecimals(_0x2ea26[_0x3af724]+_0x4f1473),_0x3ec77e[_0x3b647a(0xa9)](_0x58a234=>{const _0xb04bf5=_0x3b647a,_0x186732=_0x1a301c[_0x58a234]||roundToTwoDecimals(_0x4f1473/_0x3ec77e[_0xb04bf5(0xc0)]);_0x204f60[_0x58a234]=roundToTwoDecimals(_0x204f60[_0x58a234]-_0x186732);});});const _0x22ee6f=[],_0x4d55f8={},_0x388bc0=Object[_0x10185e(0xb7)](_0x204f60)[_0x10185e(0xd5)](([,_0x2dafea])=>_0x2dafea<-0.01),_0x1942a6=Object[_0x10185e(0xb7)](_0x204f60)[_0x10185e(0xd5)](([,_0x49bea1])=>_0x49bea1>0.01);_0x388bc0[_0x10185e(0xb1)]((_0x2e72dc,_0x2cd53a)=>_0x2e72dc[0x1]-_0x2cd53a[0x1]),_0x1942a6['sort']((_0x3c57f4,_0x2b7846)=>_0x2b7846[0x1]-_0x3c57f4[0x1]),_0x388bc0[_0x10185e(0xa9)](([_0x210551,_0x1e58e2])=>{const _0x3addc1=_0x10185e;let _0x256ef6=Math[_0x3addc1(0xc2)](_0x1e58e2);_0x1942a6[_0x3addc1(0xa9)](([_0xbb6a6d,_0x133eff])=>{const _0x597612=_0x3addc1;if(_0x256ef6>0.01&&_0x133eff>0.01){const _0x3be20e=roundToTwoDecimals(Math[_0x597612(0xaf)](_0x256ef6,_0x133eff));_0x3be20e>0.01&&(_0x22ee6f[_0x597612(0x9c)]({'from':_0x210551,'to':_0xbb6a6d,'amount':_0x3be20e}),_0x256ef6=roundToTwoDecimals(_0x256ef6-_0x3be20e),_0x1942a6[_0x1942a6['findIndex'](_0x1506fe=>_0x1506fe[0x0]===_0xbb6a6d)][0x1]=roundToTwoDecimals(_0x133eff-_0x3be20e));}});});let _0x187c10=0x0,_0x8b4331=0x0,_0xcaa640=0x0;return _0x50320c[_0x10185e(0xa9)](_0x43ff8c=>{const _0x457be2=_0x10185e;_0x187c10=roundToTwoDecimals(_0x187c10+_0x2ea26[_0x43ff8c]),_0x8b4331=roundToTwoDecimals(_0x8b4331+Math[_0x457be2(0xa6)](0x0,_0x204f60[_0x43ff8c])),_0xcaa640=roundToTwoDecimals(_0xcaa640+Math['min'](0x0,_0x204f60[_0x43ff8c])),_0x4d55f8[_0x43ff8c]={'expense_made':roundToTwoDecimals(_0x2ea26[_0x43ff8c]),'to_receive':roundToTwoDecimals(Math[_0x457be2(0xa6)](0x0,_0x204f60[_0x43ff8c])),'to_debt':roundToTwoDecimals(Math[_0x457be2(0xc2)](Math[_0x457be2(0xaf)](0x0,_0x204f60[_0x43ff8c])))};}),_0x4d55f8[_0x10185e(0xdb)]={'expense_made':roundToTwoDecimals(_0x187c10),'to_receive':roundToTwoDecimals(_0x8b4331),'to_debt':roundToTwoDecimals(Math[_0x10185e(0xc2)](_0xcaa640))},{'debts':_0x22ee6f,'summary':_0x4d55f8};}function prepareBorrowerLenderData(_0x2f8f44){const _0x4d7cec=_0x28c18c,_0x3b8df7=[...new Set(_0x2f8f44[_0x4d7cec(0xbe)](_0x32953c=>_0x32953c['from']))],_0x39121c=[...new Set(_0x2f8f44[_0x4d7cec(0xbe)](_0x3f7829=>_0x3f7829['to']))],_0x85b3c1=_0x39121c[_0x4d7cec(0xbe)](_0x5ef37b=>({'label':_0x5ef37b,'data':_0x3b8df7[_0x4d7cec(0xbe)](_0x44d031=>{const _0x40b65d=_0x4d7cec,_0x11044c=_0x2f8f44[_0x40b65d(0xb8)](_0x613e90=>_0x613e90[_0x40b65d(0xb0)]===_0x44d031&&_0x613e90['to']===_0x5ef37b);return _0x11044c?_0x11044c['amount']:0x0;}),'backgroundColor':getRandomColor()}));return{'labels':_0x3b8df7[_0x4d7cec(0xbe)](_0x335d82=>truncateName(_0x335d82)),'datasets':_0x85b3c1};}function truncateName(_0x3ac9e5){const _0x121e0d=_0x28c18c;return _0x3ac9e5[_0x121e0d(0xc0)]>0x5?_0x3ac9e5['substring'](0x0,0x5)+'...':_0x3ac9e5;}function _0x17e0(_0x538ebc,_0x996064){const _0x264bc5=_0x264b();return _0x17e0=function(_0x17e069,_0x5c382e){_0x17e069=_0x17e069-0x97;let _0xc7791f=_0x264bc5[_0x17e069];return _0xc7791f;},_0x17e0(_0x538ebc,_0x996064);}function _0x264b(){const _0x2b3206=['push','dataIndex','resize','toReceiveChart','To\x20Receive:\x20','#ef5350','Expense\x20Made:\x20','2705uRcSMm','Borrower-Lender\x20Relationships','dataset','max','getContext','random','forEach','96ynVVVK','label','Total\x20Debt:\x20','expense_made','labels','min','from','sort','function','13044JJEREI','destroy','11474204fzNQRP','expenseSplitterState','entries','find','getLabelForValue','height','canvas','observe','parse','map','Total\x20Debt','length','raw','abs','error','floor','DOMContentLoaded','3052424YPpmji','No\x20state\x20found\x20in\x20localStorage','style','Owes\x20to\x20','fromEntries','to_debt','querySelector','EPSILON','expenseList','totalDebtChart','data','a[href=\x22#charts\x22]','3192171JtOrgr','2092PBCjbA','Expense\x20Made','filter','expenseMadeChart','10agHCyU','debtsList','to_receive','38584799mRztcQ','Total','getElementById','593552daJywg','27NpDkBm','borrowerLenderChart','addEventListener','toFixed'];_0x264b=function(){return _0x2b3206;};return _0x264b();}function getRandomColor(){const _0x3626f4=_0x28c18c,_0x38cafe='0123456789ABCDEF';let _0x28d133='#';for(let _0x4a457c=0x0;_0x4a457c<0x6;_0x4a457c++){_0x28d133+=_0x38cafe[Math[_0x3626f4(0xc4)](Math[_0x3626f4(0xa8)]()*0x10)];}return _0x28d133;}window[_0x28c18c(0x9a)](_0x28c18c(0x9e),function(){const _0x4e9c45=_0x28c18c;[expenseMadeChart,toReceiveChart,totalDebtChart,borrowerLenderChart][_0x4e9c45(0xa9)](_0x58df03=>{const _0x5429f5=_0x4e9c45;if(_0x58df03){const _0x5a2af8=calculateChartHeight(_0x58df03[_0x5429f5(0xd0)][_0x5429f5(0xae)]['length']);_0x58df03[_0x5429f5(0xbb)][_0x5429f5(0xba)]=_0x5a2af8,_0x58df03['canvas'][_0x5429f5(0xc8)][_0x5429f5(0xba)]=_0x5a2af8+'px',_0x58df03['resize']();}});});